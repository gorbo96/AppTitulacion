{"version":3,"file":"src_app_pages_all_profile_profile_module_ts.js","mappings":"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","sources":["./src/app/pages/all/profile/file-size.pipe.ts","./src/app/pages/all/profile/profile-routing.module.ts","./src/app/pages/all/profile/profile.module.ts","./src/app/pages/all/profile/profile.page.ts","./src/app/services/user/user.service.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\r\n\r\nlet SIZE_UNITS = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\nlet SIZE_UNITS_LARGE = ['Bytes', 'Kilobytes', 'Megabytes', 'Gigabytes', 'Pettabytes', 'Exabytes', 'Zettabytes', 'Yottabytes'];\r\n\r\n@Pipe({\r\n  name: 'fileSize'\r\n})\r\nexport class FileSizePipe implements PipeTransform {\r\n\r\n  transform(sizeBytes: number, sizeForm: boolean): string {\r\n\r\n    let sizeUnits = sizeForm ? SIZE_UNITS_LARGE : SIZE_UNITS;\r\n    \r\n    let sizeRoundVal = Math.round(Math.log(sizeBytes)/Math.log(1024));\r\n  \tsizeRoundVal = Math.min(sizeRoundVal, sizeUnits.length - 1);\r\n  \tlet size = sizeBytes / Math.pow(1024, sizeRoundVal);\r\n  \tlet sizeFormat = Math.round(size * 100) / 100;\r\n  \tlet sizeUnit = sizeUnits[sizeRoundVal];\r\n\r\n  \treturn `${sizeFormat} ${sizeUnit}`;\r\n  }\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfilePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProfilePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProfilePageRoutingModule } from './profile-routing.module';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\nimport { FileSizePipe } from './file-size.pipe';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ProfilePageRoutingModule\r\n  ],\r\n  declarations: [ProfilePage, FileSizePipe]\r\n})\r\nexport class ProfilePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { finalize, take, tap } from 'rxjs/operators';\r\nimport {AngularFireStorage,AngularFireUploadTask} from '@angular/fire/compat/storage';\r\nimport {AngularFirestore,AngularFirestoreCollection} from '@angular/fire/compat/firestore';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\nimport { User } from 'src/app/domain/user';\r\nimport { UserService } from 'src/app/services/user/user.service';\r\n\r\n\r\nexport interface FILE {\r\n  name: string;\r\n  filepath: string;\r\n  size: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'profile.page.html',\r\n  styleUrls: ['profile.page.scss'],\r\n})\r\n\r\nexport class ProfilePage implements OnInit{\r\n\r\n  ngFireUploadTask: AngularFireUploadTask;\r\n\r\n  progressNum: Observable<number>;\r\n\r\n  progressSnapshot: Observable<any>;\r\n\r\n  fileUploadedPath: Observable<string>;\r\n\r\n  files: Observable<FILE[]>;\r\n\r\n  FileName: string;\r\n  FileSize: number;\r\n\r\n  isImgUploading: boolean;\r\n  isImgUploaded: boolean;\r\n  isUploadingEnable: boolean;\r\n\r\n  private ngFirestoreCollection: AngularFirestoreCollection<FILE>;\r\n  private sessionUser: any;\r\n  private aux: any\r\n\r\n  name : any;\r\n  email: any;\r\n  description : any;\r\n  photo : String;\r\n  id : any;\r\n  role: String\r\n\r\n  alert: string\r\n  advice: string\r\n\r\n  googleProvider: boolean = false\r\n  UserUpdate : User = new User()\r\n\r\n  constructor(private auth: AuthenticationService,\r\n              private loadingController: LoadingController,\r\n              private alertCtrl: AlertController,\r\n              private router : Router,\r\n              private angularFirestore: AngularFirestore,\r\n              private angularFireStorage: AngularFireStorage,\r\n              private userService: UserService) { \r\n\r\n                this.isImgUploading = false;\r\n                this.isImgUploaded = false;\r\n                \r\n                this.ngFirestoreCollection = angularFirestore.collection<FILE>('filesCollection');\r\n                this.files = this.ngFirestoreCollection.valueChanges();\r\n\r\n              }\r\n\r\n  async ngOnInit() {\r\n\r\n    // Obtención del usuario que actualmente tiene la sesión abierta\r\n    this.sessionUser = await this.auth.getUserAuth()\r\n\r\n    // Control de la interacción del usuario usando una rueda de carga\r\n    return await this.loadingController.create({ }).then(a => {\r\n      a.present().then(async () => {\r\n\r\n        try {\r\n\r\n          await this.sessionUser.pipe(take(1)).subscribe(async user =>{\r\n\r\n            // Obtener los datos del usurio de FireStore dado- \r\n            //    el email proporcionado por la API de autentificación\r\n            this.aux = await this.auth.getUsuario(user.email)\r\n    \r\n            await this.aux.pipe(take(1)).subscribe( res=> {\r\n              this.name = res[0].displayName\r\n              this.email = res[0].email\r\n              this.photo = res[0].photoURL\r\n              this.description = res[0].description\r\n              this.id = res[0].uid\r\n\r\n              if(res[0].role === 'A') {\r\n                this.role = 'Jefe de familia'\r\n              } else {\r\n                this.role = 'Miembro de familia'\r\n              }\r\n\r\n              if(res[0].provider === 'google') {\r\n                this.googleProvider = true\r\n              }\r\n  \r\n              a.dismiss().then(() => console.log('abort presenting'));\r\n            })\r\n            \r\n          })\r\n          \r\n        } catch (error) {\r\n          console.log('ERROR al cargar datos')\r\n          this.alert = \"Ocurrió un error al cargar sus datos\"\r\n          this.advice = 'Por favor, inténtelo de nuevo'\r\n  \r\n          a.dismiss().then(() => console.log('abort presenting'));\r\n          this.genericAlert(this.alert, this.advice)\r\n        }\r\n\r\n      })\r\n    })\r\n    \r\n  }\r\n\r\n  Onlogout(){\r\n    this.auth.salirCuenta();\r\n  }\r\n\r\n  async dismiss() {\r\n    return await this.loadingController.dismiss().then(() => console.log('dismissed'));\r\n  }\r\n\r\n  fileUpload(event: FileList) {\r\n      \r\n    const file = event.item(0)\r\n\r\n    if (file.type.split('/')[0] !== 'image') { \r\n      console.log('File type is not supported!')\r\n      this.alert = \"Ocurrió un error al subir la imagen\"\r\n      this.advice = 'Por favor, inténtelo de nuevo'\r\n\r\n      this.genericAlert(this.alert, this.advice)\r\n      return\r\n    }\r\n\r\n    this.isImgUploading = true;\r\n    this.isImgUploaded = false;\r\n\r\n    this.FileName = file.name;\r\n\r\n    const fileStoragePath = `profilePic/${new Date().getTime()}_${file.name}`;\r\n\r\n    const imageRef = this.angularFireStorage.ref(fileStoragePath);\r\n\r\n    this.ngFireUploadTask = this.angularFireStorage.upload(fileStoragePath, file);\r\n\r\n    this.progressNum = this.ngFireUploadTask.percentageChanges();\r\n\r\n    try {\r\n      \r\n      this.progressSnapshot = this.ngFireUploadTask.snapshotChanges().pipe(\r\n        finalize(async () => {\r\n          this.fileUploadedPath = imageRef.getDownloadURL();\r\n          \r\n          this.fileUploadedPath.subscribe(async resp=>{\r\n  \r\n            await this.auth.getUserAuth().pipe(take(1)).subscribe(async user =>{\r\n              this.aux = await this.auth.getUsuario(user.email)\r\n              \r\n              await this.aux.pipe(take(1)).subscribe(async res=>{\r\n\r\n                try {\r\n                  if(resp !== 'https://firebasestorage.googleapis.com/v0/b/gestionar-gastos.appspot.com/o/default.png?alt=media&token=e8ff50d0-3177-4b40-acf6-d29127a6baf3'){\r\n                    await this.userService.deletePreviousPhoto(res[0].photoURL)\r\n                  }\r\n                } catch (error) {\r\n                  console.log('ERROR: Google photo URL ')\r\n                }\r\n\r\n                await this.userService.savePhotoURL(res[0].uid, resp)\r\n\r\n                window.location.reload();\r\n              })\r\n            })\r\n            console.log(resp)\r\n            \r\n            this.isImgUploading = false;\r\n            this.isImgUploaded = true;\r\n            \r\n          },error => {\r\n            console.log(error);\r\n          })\r\n        }),\r\n        tap(snap => {\r\n            this.FileSize = snap.totalBytes;\r\n        })\r\n      )\r\n\r\n    } catch (error) {\r\n      console.log('ERROR: No se pudo subir la imagen')\r\n      this.alert = \"Ocurrió un error al subir la imagen\"\r\n      this.advice = 'Por favor, inténtelo de nuevo'\r\n\r\n      this.genericAlert(this.alert, this.advice)\r\n    }\r\n    \r\n  }\r\n\r\n  async onUpdate() {\r\n\r\n    return await this.loadingController.create({ }).then(a => {\r\n      a.present().then(async () => {\r\n        \r\n        try {\r\n\r\n          if(this.email !== \"\" && this.name !== \"\" && this.description !== \"\") {\r\n            this.UserUpdate.uid = this.id\r\n            this.UserUpdate.email = this.email\r\n            this.UserUpdate.displayName = this.name\r\n            this.UserUpdate.description = this.description\r\n\r\n            const validation =this.validateEmail(this.email)\r\n\r\n            if(validation) {\r\n              this.auth.updateUserProfileData(this.UserUpdate)\r\n            } else {\r\n              console.log('ERROR: No se pudo actualizar')\r\n              this.alert = \"El e-mail ingresado no es correcto\"\r\n              this.advice = 'Por favor, revise la sintaxis del correo electrónico'\r\n        \r\n              this.genericAlert(this.alert, this.advice)\r\n            }\r\n          } else{\r\n            console.log('ERROR: No se pudo actualizar')\r\n            this.alert = \"Información vacía\"\r\n            this.advice = 'Por favor, verifique que exista información en todos los campos'\r\n      \r\n            this.genericAlert(this.alert, this.advice)\r\n          }\r\n          \r\n        } catch (error) {\r\n          this.alert = \"Ocurrió un error al actualizar sus datos\"\r\n          this.advice = 'Por favor, inténtelo de nuevo'\r\n      \r\n          this.genericAlert(this.alert, this.advice)\r\n\r\n        } finally {\r\n          a.dismiss().then(() => console.log('abort presenting'));\r\n        }\r\n\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  validateEmail(email) {\r\n    const regularExpression = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return regularExpression.test(String(email).toLowerCase());\r\n   }\r\n\r\n  async genericAlert(alert_message, advice){\r\n\r\n    const prompt = await this.alertCtrl.create({  \r\n      header: 'Lo sentimos',  \r\n      subHeader: alert_message,\r\n      message: advice,  \r\n      \r\n      buttons: [\r\n        {  \r\n          text: 'Accept',  \r\n          handler: async data => {  \r\n            this.router.navigate([\"/profile\"]); \r\n          }  \r\n        }  \r\n      ]  \r\n    }); \r\n\r\n    await prompt.present()\r\n\r\n  }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\r\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\r\n\r\nimport { Platform } from '@ionic/angular';\r\nimport { Observable, of } from 'rxjs';\r\nimport { first, switchMap, take, map } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport * as firebase from 'firebase/compat/app';\r\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\r\nimport { Router } from '@angular/router';\r\nimport { AngularFireStorage } from '@angular/fire/compat/storage';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class UserService {\r\n\r\n  constructor(private afAuth: AngularFireAuth,\r\n    private afs: AngularFirestore,\r\n    private platform: Platform,\r\n    private googlePlus: GooglePlus,\r\n    private router : Router,\r\n    private angularFireStorage: AngularFireStorage) { }\r\n\r\n  async updateUserProfileData(user) {\r\n    return await this.afs.collection(\"users\").doc(user.uid).update({description: user.description, displayName: user.displayName, email: user.email})\r\n  }\r\n\r\n  getFamilyMembers(fid) {\r\n    return this.afs.collection(\"users\", ref => ref.where(\"id_familia\", \"==\", fid).where(\"active\", \"==\", true)).valueChanges();\r\n  }\r\n\r\n  async getUserbyId(uid) {\r\n    return await this.afs.collection(\"users\", ref => ref.where(\"uid\", \"==\", uid)).valueChanges()\r\n  }\r\n\r\n  async savePhotoURL(user, path){\r\n    return await this.afs.collection(\"users\").doc(user).update({photoURL: path})\r\n  }\r\n\r\n  async deletePreviousPhoto(path) {\r\n    return await this.angularFireStorage.storage.refFromURL(path).delete();\r\n\r\n  }\r\n\r\n  async changeFamily(user, family) {\r\n    return await this.afs.collection(\"users\").doc(user.uid).update({id_familia: family.id})\r\n  }\r\n\r\n  async deleteFamily(user, family) {\r\n    return await this.afs.collection(\"users\").doc(user).update({id_familia: family})\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}