{"version":3,"file":"src_app_pages_all_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/all/login/login-routing.module.ts","./src/app/pages/all/login/login.module.ts","./src/app/pages/all/login/login.page.ts","./src/app/services/user/user.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { User } from 'src/app/domain/user';\r\n\r\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\n\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { take, takeUntil } from 'rxjs/operators';\r\nimport { AlertController, LoadingController, MenuController } from '@ionic/angular';\r\nimport { UserService } from 'src/app/services/user/user.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  private readonly onDestroy = new Subject<void>()\r\n\r\n  public email: string\r\n  public password : string\r\n  private sessionUser : any\r\n\r\n  User: User = new User()\r\n  user2: any\r\n  userUpdate: any\r\n  verifica: any\r\n\r\n  alert: string\r\n  advice: string\r\n  aux:any\r\n\r\n  constructor(public readonly auth: AngularFireAuth, \r\n              private AuthenticationService :  AuthenticationService,\r\n              private router : Router,\r\n              private alertCtrl: AlertController,\r\n              private loadingController: LoadingController,\r\n              public menuCtrl: MenuController,\r\n              private userService: UserService) { \r\n                this.menuCtrl.enable(false)\r\n              }\r\n\r\n  async ngOnInit() {\r\n\r\n    this.onDestroy.next();\r\n\r\n    // Control de la interacción del usuario usando una rueda de carga\r\n    return await this.loadingController.create({ }).then(a => {\r\n      a.present().then(async () => {\r\n\r\n        try {\r\n          await this.AuthenticationService.getUserAuth().pipe(take(1)).subscribe(async user =>{\r\n\r\n            try {\r\n\r\n              this.sessionUser = await this.AuthenticationService.getUsuario(user.email)\r\n  \r\n              await this.sessionUser.pipe(take(1)).subscribe(async res=> {\r\n                if (res[0].id_familia !== \"-1\") {\r\n                  this.router.navigate([\"/home\"])\r\n                } else {\r\n                  this.router.navigate([\"/createfamily\"])\r\n                }\r\n                \r\n              })\r\n              \r\n            } catch (error) {\r\n              console.log(\"NO USER LOGGED IN\")\r\n            } finally {\r\n              //  Terminar la carga de la página\r\n              a.dismiss().then(() => console.log('abort presenting'));\r\n            }\r\n            \r\n          })\r\n        } catch (error) {\r\n          console.log(\"NO USER LOGGED IN\")\r\n        } finally {\r\n          //  Terminar la carga de la página\r\n          a.dismiss().then(() => console.log('abort presenting'));\r\n        }\r\n\r\n\r\n      })\r\n    })\r\n    \r\n  }\r\n\r\n  async logeo(){\r\n\r\n    if((this.User.email === null || this.User.email === undefined) || \r\n      (this.User.password === null || this.User.password === undefined)){\r\n        this.alert = \"Ocurrió un error\"\r\n        this.advice = 'Por favor, ingrese los datos necesarios'\r\n        \r\n        //  Mostrar mensaje de al usuario\r\n        return this.genericAlert(this.alert, this.advice);\r\n\r\n      }\r\n\r\n    // Control de la interacción del usuario usando una rueda de carga\r\n    return await this.loadingController.create({ }).then(a => {\r\n      a.present().then(async () => {\r\n\r\n        try {\r\n          // Iniciar sesión con el usuario ingresado\r\n          await this.AuthenticationService.onLogin(this.User);          \r\n\r\n          // Garantizar una conexión estable con Firebase implementando un regtraso\r\n          setTimeout(async () => {\r\n\r\n            if(this.AuthenticationService.currentUser == null || \r\n              this.AuthenticationService.currentUser == undefined) {\r\n              //console.log('HTTP Error', err);\r\n              this.alert = \"Ocurrió un error al cargar sus datos\"\r\n              this.advice = 'Correo electrónico o contraseña incorrecta'\r\n              \r\n              //  Terminar la carga de la página\r\n              a.dismiss().then(() => console.log('abort presenting'));\r\n              //  Mostrar mensaje de al usuario\r\n              return this.genericAlert(this.alert, this.advice)\r\n            }\r\n            \r\n            // Verificación del logeo para control de excepciones si no se ingresan datos\r\n            if(this.User.email && this.User.password){\r\n\r\n              // Obtener los datos del usurio de FireStore dado- \r\n              //    el email proporcionado por la API de autentificación\r\n              this.user2 = await this.AuthenticationService.getUsuario(this.User.email);\r\n              \r\n              // Control de errores\r\n              try {\r\n                                \r\n                await this.user2.pipe(take(1)).subscribe(res=> {\r\n                  this.AuthenticationService.timeStampLogin(res[0]);\r\n                  this.aux = res[0]\r\n\r\n                  \r\n                  if (res[0].id_familia === \"-1\" && res.length > 0) {\r\n                    a.dismiss().then(() => console.log('abort presenting'));\r\n                    this.router.navigate([\"/createfamily\"]);\r\n                  } else if (res[0].id_familia !== \"-1\" && res.length > 0) {\r\n                    a.dismiss().then(() => console.log('abort presenting'));\r\n                    this.router.navigate([\"/home\"]);\r\n                  }\r\n                  \r\n                });\r\n                \r\n              } catch (error) {\r\n                \r\n                this.alert = \"Ocurrió un error con el inicio de sesión\"\r\n                this.advice = 'Por favor, inténtelo de nuevo'\r\n                \r\n                //  Terminar la carga de la página\r\n                a.dismiss().then(() => console.log('abort presenting'));\r\n                //  Mostrar mensaje de al usuario\r\n                this.genericAlert(this.alert, this.advice)\r\n  \r\n              } finally {\r\n                a.dismiss().then(() => console.log('abort presenting'));\r\n              }\r\n      \r\n            }else{\r\n              console.log(\"error en el loggeo\")\r\n              this.alert = \"Los Datos ingresados son incorrectos\"\r\n              this.advice = 'Por favor, ingréselos de nuevo'\r\n              \r\n              //  Terminar la carga de la página\r\n              a.dismiss().then(() => console.log('abort presenting'));\r\n              //  Mostrar mensaje de al usuario\r\n              this.genericAlert(this.alert, this.advice);\r\n              \r\n            }\r\n            \r\n          }, 4000);\r\n\r\n        } catch (error) {\r\n          this.alert = \"Ocurrió un error con el inicio de sesión\"\r\n          this.advice = 'Por favor, inténtelo de nuevo'\r\n          \r\n          //  Terminar la carga de la página\r\n          a.dismiss().then(() => console.log('abort presenting'));\r\n          //  Mostrar mensaje de al usuario\r\n          this.genericAlert(this.alert, this.advice);\r\n        } finally {\r\n          a.dismiss().then(() => console.log('abort presenting'));\r\n        }\r\n\r\n      })\r\n    })\r\n    \r\n  }\r\n\r\n  async googleLogin() {\r\n    // Control de la interacción del usuario usando una rueda de carga\r\n    return await this.loadingController.create({ }).then(a => {\r\n      a.present().then(async () => {\r\n                \r\n        try {\r\n          //  Iniciamos sesión usando Google          \r\n          this.user2 = await this.AuthenticationService.googleLogin()\r\n          \r\n          setTimeout(async () => {\r\n            \r\n            await this.AuthenticationService.updateUserData(this.user2, 'google')\r\n            this.user2 = await this.AuthenticationService.getUsuario(this.user2._delegate.email)\r\n      \r\n            await this.user2.pipe(take(1)).subscribe(res=> {\r\n              this.aux = res[0]\r\n            \r\n              if (this.aux.id_familia === \"-1\") {    \r\n                a.dismiss().then(() => console.log('abort presenting'));\r\n                this.router.navigate([\"/createfamily\"]);\r\n\r\n              } else {\r\n                a.dismiss().then(() => console.log('abort presenting'));\r\n                this.router.navigate([\"/home\"]);\r\n\r\n              }\r\n        \r\n            });\r\n          }, 2000);\r\n          \r\n\r\n                    \r\n          \r\n        } catch (error) {\r\n          \r\n          console.log(error)\r\n          this.alert = \"Ocurrió un error inesperado en con el inicio de sesión\"\r\n          this.advice = 'Por favor, inténtelo de nuevo'\r\n          \r\n          //  Terminar la carga de la página\r\n          a.dismiss().then(() => console.log('abort presenting'));\r\n          //  Mostrar mensaje de al usuario\r\n          this.genericAlert(this.alert, this.advice);\r\n        }\r\n\r\n      })\r\n    })\r\n\r\n  }\r\n  \r\n  emailPasswordLogin() {\r\n      let data = this.AuthenticationService.emailPasswordLogin(this.email, this.password);\r\n      console.log('Response:\\n', data);\r\n  }\r\n\r\n  async genericAlert(alert_message, advice){\r\n\r\n    const prompt = await this.alertCtrl.create({  \r\n      header: 'Lo sentimos',  \r\n      subHeader: alert_message,\r\n      message: advice,  \r\n      \r\n      buttons: ['Aceptar']  \r\n    }); \r\n\r\n    await prompt.present()\r\n\r\n  }\r\n\r\n  async dismiss() {\r\n    return await this.loadingController.dismiss().then(() => console.log('dismissed'));\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\r\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\r\n\r\nimport { Platform } from '@ionic/angular';\r\nimport { Observable, of } from 'rxjs';\r\nimport { first, switchMap, take, map } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport * as firebase from 'firebase/compat/app';\r\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\r\nimport { Router } from '@angular/router';\r\nimport { AngularFireStorage } from '@angular/fire/compat/storage';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class UserService {\r\n\r\n  constructor(private afAuth: AngularFireAuth,\r\n    private afs: AngularFirestore,\r\n    private platform: Platform,\r\n    private googlePlus: GooglePlus,\r\n    private router : Router,\r\n    private angularFireStorage: AngularFireStorage) { }\r\n\r\n  async updateUserProfileData(user) {\r\n    return await this.afs.collection(\"users\").doc(user.uid).update({description: user.description, displayName: user.displayName, email: user.email})\r\n  }\r\n\r\n  getFamilyMembers(fid) {\r\n    return this.afs.collection(\"users\", ref => ref.where(\"id_familia\", \"==\", fid).where(\"active\", \"==\", true)).valueChanges();\r\n  }\r\n\r\n  async getUserbyId(uid) {\r\n    return await this.afs.collection(\"users\", ref => ref.where(\"uid\", \"==\", uid)).valueChanges()\r\n  }\r\n\r\n  async savePhotoURL(user, path){\r\n    return await this.afs.collection(\"users\").doc(user).update({photoURL: path})\r\n  }\r\n\r\n  async deletePreviousPhoto(path) {\r\n    return await this.angularFireStorage.storage.refFromURL(path).delete();\r\n\r\n  }\r\n\r\n  async changeFamily(user, family) {\r\n    return await this.afs.collection(\"users\").doc(user.uid).update({id_familia: family.id})\r\n  }\r\n\r\n  async deleteFamily(user, family) {\r\n    return await this.afs.collection(\"users\").doc(user).update({id_familia: family})\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}