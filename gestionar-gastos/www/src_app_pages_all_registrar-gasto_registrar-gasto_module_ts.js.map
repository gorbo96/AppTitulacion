{"version":3,"file":"src_app_pages_all_registrar-gasto_registrar-gasto_module_ts.js","mappings":"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","sources":["./src/app/domain/gasto.ts","./src/app/pages/all/registrar-gasto/registrar-gasto-routing.module.ts","./src/app/pages/all/registrar-gasto/registrar-gasto.module.ts","./src/app/pages/all/registrar-gasto/registrar-gasto.page.ts","./src/app/services/gastos.service.ts"],"sourcesContent":["//Declaracion de clase Gasto\r\nexport class Gasto {\r\n    id:string;\r\n    monto:number;\r\n    id_usuario:string;\r\n    id_familia:string;\r\n    id_categoria:string;\r\n    fecha:string;\r\n    descripcion:string;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RegistrarGastoPage } from './registrar-gasto.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegistrarGastoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegistrarGastoPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegistrarGastoPageRoutingModule } from './registrar-gasto-routing.module';\r\n\r\nimport { RegistrarGastoPage } from './registrar-gasto.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RegistrarGastoPageRoutingModule\r\n  ],\r\n  declarations: [RegistrarGastoPage]\r\n})\r\nexport class RegistrarGastoPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Gasto } from 'src/app/domain/gasto';\r\nimport { GastosService } from 'src/app/services/gastos.service';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { take } from 'rxjs/operators';\r\nimport { AlertController, MenuController,LoadingController } from '@ionic/angular';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { LocalNotifications } from '@awesome-cordova-plugins/local-notifications/ngx';\r\nimport { DatePipe } from '@angular/common'\r\n\r\n\r\n@Component({\r\n  selector: 'app-registrar-gasto',\r\n  templateUrl: './registrar-gasto.page.html',\r\n  styleUrls: ['./registrar-gasto.page.scss'],\r\n})\r\nexport class RegistrarGastoPage implements OnInit {\r\n  gasto:Gasto=new Gasto();//Variable de clase 'Gasto', almacenar en formato visualizacion de informacion de firebase\r\n  //Variable para almacenamiento de respuesta desde Firebase de consultas de la coleccion de usuarios\r\n  usuario:any  \r\n\r\n  //Variables para una notificacion especifica\r\n  alert: string\r\n  advice: string\r\n\r\n  private sessionUser : any//Variable para la obtencion de usuario logeado\r\n\r\n  constructor(private route: ActivatedRoute,\r\n    private localNotifications: LocalNotifications,\r\n    private router: Router, \r\n    private gastoService: GastosService,//Declaracion de servicios para gastos\r\n    private alertCtrl: AlertController,\r\n    private auth :  AuthenticationService,//Declaracion de servicios de autenticacion\r\n    private loadingController: LoadingController,//Declaracion de servicios de pantalla de progreso\r\n    public menuCtrl: MenuController,\r\n    public datepipe: DatePipe ) {//Declaracion de servicios para control del menu principal\r\n      this.menuCtrl.enable(true)//Menu activado\r\n    }\r\n\r\n  async ngOnInit() {\r\n    this.sessionUser = await this.auth.getUserAuth()//Utilizacion del servicio para obtener usuario que inicio sesion mediante Firebase  \r\n  }\r\n  async registrarGasto(){//Funcion para registrar el gasto en la coleccion de firebase\r\n    this.gasto.id=null//anular el valor de id del gasto,antecedente necesario para la generacion automatica de ID's de firebase\r\n    return await this.loadingController.create({ }).then(a => {//Llamado para pantalla de carga\r\n      a.present().then(async () => {\r\n        console.log(this.gasto.id_categoria)\r\n        if(this.gasto.monto !== undefined && this.gasto.id_categoria !== undefined) {\r\n          this.sessionUser.pipe(take(1)).subscribe(async user =>{//Recorrido de respuesta del servicio\r\n            try {//Calusula try-catch\r\n              this.usuario = await this.auth.getUsuario(user.email)//Utilizacion de servicio para obtener usuario en base a consulta base de datos\r\n              this.usuario.pipe(take(1)).subscribe(user =>{\r\n                this.gasto.id_usuario=user[0].uid//Asignacion de id del usuario que registra el gasto\r\n                this.gasto.id_familia=user[0].id_familia//Asignacion de id de la familia\r\n\r\n                var fecha=new Date(this.gasto.fecha);//Crear variable con tipo fecha para generar notificacion\r\n\r\n                if (this.gasto.fecha === undefined) {\r\n                  this.gasto.fecha = this.datepipe.transform(new Date(), 'YYYY-MM-ddThh:mm:ssZ');\r\n                  fecha=new Date()\r\n                }\r\n\r\n                if (this.gasto.descripcion === null || this.gasto.descripcion === undefined) {\r\n                  this.gasto.descripcion = \"No especificado\"\r\n                }\r\n                  \r\n                this.localNotifications.schedule({//LLamado a funcion de programar la notificacion en base a una fecha\r\n                  text: \"Nuevo Gasto\"+this.gasto.descripcion+\"\\n De: \"+this.gasto.monto,\r\n                  trigger: {at: fecha},                 \r\n                });\r\n  \r\n                this.gastoService.guardar(this.gasto)//Llamado a funcion diseñada\r\n                this.alert = \"Registro del gasto correcto\"\r\n                this.advice = 'Informacion Guardada'\r\n          \r\n                return this.genericAlert(\"¡Listo!\", this.alert, this.advice)\r\n                \r\n                \r\n                \r\n              })        \r\n            } catch(error){\r\n              //Caso de encontrar un error, definir mesaje para alerta y lanzar alerta\r\n              console.log(error)  \r\n              this.alert = \"Ocurrió un error inesperado al registrar el gasto\"\r\n              this.advice = 'Por favor, inténtelo de nuevo'\r\n        \r\n              return this.genericAlert('Lo sentimos',this.alert, this.advice)\r\n            }finally {\r\n              a.dismiss().then(() => console.log('abort presenting'))\r\n            }\r\n          })\r\n        } else {          \r\n          this.alert = \"Ocurrió un error\"\r\n          this.advice = 'Por favor, llene toda la información requerida'\r\n          \r\n          a.dismiss().then(() => console.log('abort presenting'))\r\n          return this.genericAlert('Lo sentimos',this.alert, this.advice)\r\n        }\r\n        \r\n\r\n      }) \r\n    })\r\n  }\r\n  async genericAlert(header, alert_message, advice){//Funcion para creacion de alerta\r\n\r\n    const prompt = await this.alertCtrl.create({//Llamado a creacion con el mensaje antes definido   \r\n      header: header,  \r\n      subHeader: alert_message,\r\n      message: advice,  \r\n      \r\n      buttons: ['Aceptar']//Boton de confirmacion\r\n    }); \r\n\r\n    await prompt.present()\r\n\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Gasto } from '../domain/gasto';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GastosService {  \r\n  // Debugging de la función localmente\r\n  // private regressionUrl = \"http://localhost:5000/gestionar-gastos/us-central1/regressionReq\";\r\n  \r\n  constructor(public afs: AngularFirestore, private http: HttpClient) { \r\n     \r\n  }\r\n\r\n  guardar(gasto:Gasto){//Funcion para guardar 'Gasto' en coleccion de Gastos\r\n    const refGastos = this.afs.collection(\"gastos\");//Referencia a la collecion en la que se desea guardar\r\n      \r\n      if (gasto.id == null){//En caso de que el objeto recibido no tenga un ID generarlo\r\n        gasto.id = this.afs.createId();        \r\n      }\r\n  \r\n      refGastos.doc(gasto.id).set(Object.assign({}, gasto));//Con la referencia guardar los datos\r\n  }\r\n\r\n  obtenerGastos(idG:any):Observable<any[]>{\r\n    return this.afs.collection(\"gastos\",\r\n            ref=> ref.where(\"id_usuario\",\"==\",idG)).valueChanges();//Consultar en la coleccion gastos todos los valores correspondientes a un usuario\r\n  } \r\n  \r\n  obtenerGastosFamilia(idG:any):Observable<any[]>{\r\n    return this.afs.collection(\"gastos\",\r\n            ref=> ref.where(\"id_familia\",\"==\",idG)).valueChanges();//Consultar en la coleccion gastos todos los valores correspondientes a un usuario\r\n  } \r\n\r\n  obtenerGastoPorId(id) {\r\n    return this.afs.collection(\"gastos\", ref => ref.where(\"id\", \"==\", id)).valueChanges()\r\n  }\r\n\r\n  obtenerusrFamilia(idF:any):Observable<any[]>{    \r\n    //Consultar en la coleccion users todos los usuarios correspondientes a una familia y que se encuentren activos\r\n    return this.afs.collection(\"users\",\r\n            ref=> ref.where(\"id_familia\",\"==\",idF).where(\"active\",\"==\",true)).valueChanges();\r\n  }\r\n  \r\n  getCategories(){\r\n    return this.afs.collection(\"categories\").valueChanges()\r\n  }\r\n\r\n  regression(id: any) {\r\n    let body = new URLSearchParams();\r\n\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type':  'application/x-www-form-urlencoded',\r\n        'Access-Control-Allow-Origin': \"*\"\r\n      })\r\n    };\r\n\r\n    body.set('id_familia', id);\r\n\r\n    return this.http.post<any>(environment.RG_FUNC_PATH, body, httpOptions).toPromise();\r\n  }\r\n\r\n  homeChartData(id: any){\r\n    let body = new URLSearchParams();\r\n\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type':  'application/x-www-form-urlencoded',\r\n        'Access-Control-Allow-Origin': \"*\"\r\n      })\r\n    };\r\n\r\n    body.set('id_familia', id);\r\n\r\n    return this.http.post<any>(environment.HOME_FUNC_PATH, body, httpOptions).toPromise();\r\n  }\r\n\r\n  categoryData(id: any){\r\n    let body = new URLSearchParams();\r\n\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type':  'application/x-www-form-urlencoded',\r\n        'Access-Control-Allow-Origin': \"*\"\r\n      })\r\n    };\r\n\r\n    body.set('id_familia', id);\r\n\r\n    return this.http.post<any>(environment.CATEGORY_FUNC_PATH, body, httpOptions).toPromise();\r\n  }\r\n  \r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}